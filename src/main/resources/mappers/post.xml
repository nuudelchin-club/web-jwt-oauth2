<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="nuudelchin.club.web.repository.PostRepository">

	<select id="selectPostList" resultType="nuudelchin.club.web.entity.PostSelectEntity">
        select 
			a.content as content,
			a.updated_at as updated_at,
			b.username as author_id, 
			b.fullname as author, 
			b.email as email,
			b.picture as picture
			from m_post a left join m_user b on a.username = b.username
			where a.status = 'active'
			order by a.updated_at desc;   
    </select>
    
	<insert id="save" parameterType="nuudelchin.club.web.entity.PostEntity">
    	INSERT INTO m_post (username, content)
			VALUES (#{username}, #{content});
    </insert>
    
</mapper>